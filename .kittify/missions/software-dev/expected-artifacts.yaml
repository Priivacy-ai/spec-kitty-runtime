# Expected artifact manifest for software-dev mission
#
# Defines which artifacts are required/optional at each mission step.
# Step names correspond to mission.yaml state IDs.
#
# Blocking semantics:
# - blocking: true means missing artifact prevents mission advancement
# - blocking: false means missing artifact is noted but doesn't block
#
# Path patterns support glob syntax (e.g., tasks/*.md matches all .md files in tasks/)

schema_version: "1.0"
mission_type: "software-dev"
manifest_version: "1"

# Artifacts required regardless of mission step
required_always: []

# Artifacts required at specific mission steps
required_by_step:
  discovery:
    # Discovery step has no required artifacts
    []

  specify:
    - artifact_key: "input.spec.main"
      artifact_class: "input"
      path_pattern: "spec.md"
      blocking: true

  plan:
    - artifact_key: "output.plan.main"
      artifact_class: "output"
      path_pattern: "plan.md"
      blocking: true
    - artifact_key: "output.tasks.list"
      artifact_class: "output"
      path_pattern: "tasks.md"
      blocking: true

  implement:
    # Implementation step requires code changes tracked via git
    # Filesystem artifacts not blocking (tracked via git)
    []

  review:
    # Review step checks code quality and completeness
    # No specific filesystem artifacts blocking
    []

  done:
    # Done state requires all previous steps' artifacts implicitly
    []

# Artifacts optional throughout the mission
optional_always:
  - artifact_key: "evidence.research"
    artifact_class: "evidence"
    path_pattern: "research.md"
    blocking: false
  - artifact_key: "evidence.gap-analysis"
    artifact_class: "evidence"
    path_pattern: "gap-analysis.md"
    blocking: false
  - artifact_key: "evidence.quickstart"
    artifact_class: "evidence"
    path_pattern: "quickstart.md"
    blocking: false
  - artifact_key: "evidence.data-model"
    artifact_class: "evidence"
    path_pattern: "data-model.md"
    blocking: false
